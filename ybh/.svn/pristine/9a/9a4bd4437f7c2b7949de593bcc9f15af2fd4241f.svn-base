'use strict';

var DialogListGenerator = require('./scripts/dialog-list-generator')

module.exports = {
  load() {
    // execute when package loaded
  },

  unload() {
    // execute when package unloaded
  },

  // register your ipc messages here
  messages: {
    'open'() {
      // open entry panel registered in package.json
      Editor.Panel.open('project-manager');
    },
    'say-hello'() {
      Editor.log('Hello World!');
      // send ipc message to panel
      Editor.Ipc.sendToPanel('project-manager', 'project-manager:hello');
    },
    'clicked'() {
      Editor.log('Button clicked!');
    },

    'set-click-attach'() {
        Editor.Scene.callSceneScript('project-manager', 'add-click-widget-attach', function (msg) {
          Editor.log(msg);
        });
    },

    'asset-db:assets-created': function (event, target) {
      DialogListGenerator.onAssetsUpdated('create', target);
    },
    'asset-db:asset-changed': function (event, target) {
      DialogListGenerator.onAssetsUpdated('change', target);
    },
    'asset-db:assets-moved': function (event, target) {
      DialogListGenerator.onAssetsUpdated('move', target);
    },
    'asset-db:assets-deleted': function (event, target) {
      DialogListGenerator.onAssetsUpdated('delete', target);
    },

    'editor:build-start': function () {
      //Editor.log('build-start');
    },
    'editor:build-finished': function (event, target) {
      //Editor.log('build-finished');
    },
  },
};