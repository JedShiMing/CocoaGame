var DialogBase = require('AFDialogBase');

cc.Class({
    extends: DialogBase,

    properties: {},

    // LIFE-CYCLE CALLBACKS:
    onLoad: function () {
        DialogBase.prototype.onLoad.call(this);

        this.params = AF.DIALOG_PARAMS()
    },

    onEnable: function () {
        DialogBase.prototype.onEnable.call(this);
        AF.EventDispatcher.emit('ShowBalancePassed', {pointId: this.params.pointId})
    },
    onDisable: function () {
        DialogBase.prototype.onDisable.call(this);
        AF.EventDispatcher.emit('HideBalancePassed')
    },
    next() {
        this.close()
        this.params.next()
    },
    goToHome() {
        this.close()
        this.params.close()
    },
    challenge() {
        AF.util.shareAppMessage(null, () => {
            console.log('suc')
        }, () => {
            console.log('fail')
        }, {score: this.params.pointId}, 'challenge')
    },
});
