{"version":3,"sources":["HallRocketDialog.js"],"names":["DialogBase","require","cc","Class","extends","properties","content","Label","onLoad","prototype","call","shadow","node","getChildByName","width","winSize","height","setPosition","messageBoxBg","closeButton","x","y","adButton","onEnable","params","AF","DIALOG_PARAMS","console","warn","string","js","formatStr","score","callBack","onAdButtonClick","event","custom","util","isVideoAdLoaded","ToastMessage","show","showVideoAd","res","close","onCancelButtonClick","onCloseButtonClick"],"mappings":";;;;;;AAAA,IAAIA,aAAaC,QAAQ,cAAR,CAAjB;;AAEAC,GAAGC,KAAH,CAAS;AACLC,aAASJ,UADJ;;AAGLK,gBAAY;AACRC,iBAASJ,GAAGK;AADJ,KAHP;;AAOLC,YAAQ,kBAAY;AAChBR,mBAAWS,SAAX,CAAqBD,MAArB,CAA4BE,IAA5B,CAAiC,IAAjC;;AAEA,YAAIC,SAAS,KAAKC,IAAL,CAAUC,cAAV,CAAyB,QAAzB,CAAb;AACAF,eAAOG,KAAP,GAAeZ,GAAGa,OAAH,CAAWD,KAA1B;AACAH,eAAOK,MAAP,GAAgBd,GAAGa,OAAH,CAAWC,MAA3B;AACAL,eAAOM,WAAP,CAAmB,CAAnB,EAAsB,CAAtB;;AAEA,YAAIC,eAAe,KAAKN,IAAL,CAAUC,cAAV,CAAyB,cAAzB,CAAnB;AACAK,qBAAaD,WAAb,CAAyB,CAAzB,EAA4Bf,GAAGa,OAAH,CAAWC,MAAX,GAAoB,CAApB,GAAwB,GAAxB,GAA8BE,aAAaF,MAAb,GAAsB,CAAhF;;AAEA,YAAIG,cAAc,KAAKP,IAAL,CAAUC,cAAV,CAAyB,aAAzB,CAAlB;AACAM,oBAAYF,WAAZ,CAAwBC,aAAaE,CAAb,GAAiBF,aAAaJ,KAAb,GAAqB,IAA9D,EAAoEI,aAAaG,CAAb,GAAiBH,aAAaF,MAAb,GAAsB,IAA3G;;AAEA,YAAIM,WAAW,KAAKV,IAAL,CAAUC,cAAV,CAAyB,UAAzB,CAAf;AACAS,iBAASL,WAAT,CAAqBC,aAAaE,CAAlC,EAAqCF,aAAaG,CAAb,GAAiBH,aAAaF,MAAb,GAAsB,IAA5E;AAGH,KAzBI;;AA2BLO,cAAU,oBAAY;AAClBvB,mBAAWS,SAAX,CAAqBc,QAArB,CAA8Bb,IAA9B,CAAmC,IAAnC;AACA,YAAIc,SAASC,GAAGC,aAAH,EAAb;;AAEA,YAAI,CAACF,MAAL,EAAa;AACTG,oBAAQC,IAAR,CAAa,6BAAb;AACH;AACD,aAAKtB,OAAL,CAAauB,MAAb,GAAsB3B,GAAG4B,EAAH,CAAMC,SAAN,CAAgB,SAAhB,EAA2B,KAAKP,OAAOQ,KAAvC,CAAtB;AACA,aAAKC,QAAL,GAAgBT,OAAOS,QAAvB;AACA;AACA;AACH,KAtCI;;AAwCL;AACAC,qBAAiB,yBAAUC,KAAV,EAAiBC,MAAjB,EAAyB;AAAA;;AAEtC,YAAI,CAACX,GAAGY,IAAH,CAAQC,eAAR,EAAL,EAAgC;AAC5Bb,eAAGc,YAAH,CAAgBC,IAAhB,CAAqB,SAArB;AACA;AACH;;AAEDf,WAAGY,IAAH,CAAQI,WAAR,CAAoB,OAApB,EAA6B,UAACC,GAAD,EAAS;AAClC,gBAAIA,GAAJ,EAAS;AACL,sBAAKT,QAAL,IAAiB,MAAKA,QAAL,CAAc,QAAd,CAAjB;AACA,sBAAKU,KAAL;AACH;AACJ,SALD;AAMH,KAtDI;;AAwDLC,yBAAqB,6BAAUT,KAAV,EAAiBC,MAAjB,EAAyB;AAC1C,aAAKH,QAAL,IAAiB,KAAKA,QAAL,EAAjB;AACA,aAAKU,KAAL;AACH,KA3DI;;AA6DLE,wBAAoB,4BAAUV,KAAV,EAAiBC,MAAjB,EAAyB;AACzC,aAAKH,QAAL,IAAiB,KAAKA,QAAL,CAAc,QAAd,CAAjB;AACA,aAAKU,KAAL;AACH;AAhEI,CAAT","file":"HallRocketDialog.js","sourceRoot":"../../../../../../assets/hall/ui/dialog","sourcesContent":["var DialogBase = require('AFDialogBase');\r\n\r\ncc.Class({\r\n    extends: DialogBase,\r\n\r\n    properties: {\r\n        content: cc.Label,\r\n    },\r\n\r\n    onLoad: function () {\r\n        DialogBase.prototype.onLoad.call(this);\r\n\r\n        var shadow = this.node.getChildByName('shadow');\r\n        shadow.width = cc.winSize.width;\r\n        shadow.height = cc.winSize.height;\r\n        shadow.setPosition(0, 0);\r\n\r\n        var messageBoxBg = this.node.getChildByName('messageBoxBg');\r\n        messageBoxBg.setPosition(0, cc.winSize.height / 2 - 393 - messageBoxBg.height / 2);\r\n\r\n        var closeButton = this.node.getChildByName('closeButton');\r\n        closeButton.setPosition(messageBoxBg.x + messageBoxBg.width * 0.47, messageBoxBg.y + messageBoxBg.height * 0.47);\r\n\r\n        var adButton = this.node.getChildByName('adButton');\r\n        adButton.setPosition(messageBoxBg.x, messageBoxBg.y - messageBoxBg.height * 0.47);\r\n\r\n\r\n    },\r\n\r\n    onEnable: function () {\r\n        DialogBase.prototype.onEnable.call(this);\r\n        var params = AF.DIALOG_PARAMS();\r\n\r\n        if (!params) {\r\n            console.warn('HallRocketDialog no params!');\r\n        }\r\n        this.content.string = cc.js.formatStr('从%s分开始？', '' + params.score);\r\n        this.callBack = params.callBack;\r\n        // this.launchRocket = params.launchRocket;\r\n        // this.cancel = params.cancel;\r\n    },\r\n\r\n    /********** 按钮回调函数 **********/\r\n    onAdButtonClick: function (event, custom) {\r\n       \r\n        if (!AF.util.isVideoAdLoaded()) {\r\n            AF.ToastMessage.show('广告暂未开放！');\r\n            return;\r\n        }\r\n\r\n        AF.util.showVideoAd('power', (res) => {\r\n            if (res) {\r\n                this.callBack && this.callBack('ROCKET');\r\n                this.close();\r\n            }\r\n        });\r\n    },\r\n\r\n    onCancelButtonClick: function (event, custom) {\r\n        this.callBack && this.callBack();\r\n        this.close();\r\n    },\r\n\r\n    onCloseButtonClick: function (event, custom) {\r\n        this.callBack && this.callBack('NORMAL');\r\n        this.close();\r\n    },\r\n});\r\n"]}