{"version":3,"sources":["../../../../../../assets/hall/ui/dialog/assets/hall/ui/dialog/LinkItem.js"],"names":["module","exports","cc","Class","extends","Component","properties","spSelect","Node","spTip","straight","Sprite","corner","end","updateSelectLink","lastPos","selected","rotation","active","updateTipLink","nextPos","test","node","scaleY"],"mappings":"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","file":"LinkItem.js","sourceRoot":"../../../../../../assets/hall/ui/dialog","sourcesContent":["module.exports = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        spSelect: cc.Node,\n        spTip: cc.Node,\n\n        straight: cc.Sprite,\n        corner: cc.Sprite,\n        end: cc.Sprite,\n    },\n\n    updateSelectLink(lastPos, selected) {\n        if (!!selected) {\n            let rotation = 0\n            switch (lastPos) {\n                case 'left':\n                    rotation = 0\n                    break\n                case 'top':\n                    rotation = 90\n                    break\n                case 'right':\n                    rotation = 180\n                    break\n                case 'bottom':\n                    rotation = -90\n                    break\n                default:\n                    return\n            }\n            this.spSelect.active = true\n            this.spSelect.rotation = rotation\n        } else {\n            this.spSelect.active = false\n        }\n    },\n    updateTipLink(lastPos, nextPos) {\n        if ((/top|bottom/.test(lastPos) && /top|bottom/.test(nextPos)) ||\n            (/left|right/.test(lastPos) && /left|right/.test(nextPos))\n        ) {\n            this.spTip.active = true\n            this.straight.node.active = true\n            this.corner.node.active = false\n            this.end.node.active = false\n            let rotation = 0\n            switch (lastPos) {\n                case 'left':\n                    rotation = 0\n                    break\n                case 'top':\n                    rotation = 90\n                    break\n                case 'right':\n                    rotation = 180\n                    break\n                case 'bottom':\n                    rotation = -90\n                    break\n            }\n            this.spTip.rotation = rotation\n        }\n        else if(lastPos && nextPos){\n            let rotation = 0\n            let scaleY = 1\n            this.spTip.active = true\n            this.straight.node.active = false\n            this.corner.node.active = true\n            this.end.node.active = false\n            if(lastPos === 'left'){\n                if(nextPos === 'top'){\n                    scaleY = -1\n                }\n            }\n            else if(lastPos === 'top'){\n                rotation = 90\n                if(nextPos === 'right'){\n                    scaleY = -1\n                }\n            }\n            else if(lastPos === 'right'){\n                rotation = 180\n                if(nextPos === 'bottom'){\n                    scaleY = -1\n                }\n            }\n            else if(lastPos === 'bottom'){\n                rotation = -90\n                if(nextPos === 'left'){\n                    scaleY = -1\n                }\n            }\n            this.spTip.scaleY = scaleY\n            this.spTip.rotation = rotation\n        }\n        else if(!nextPos){\n            this.spTip.active = true\n            this.straight.node.active = false\n            this.corner.node.active = false\n            this.end.node.active = true\n            let rotation = 0\n            switch (lastPos) {\n                case 'left':\n                    rotation = 0\n                    break\n                case 'top':\n                    rotation = 90\n                    break\n                case 'right':\n                    rotation = 180\n                    break\n                case 'bottom':\n                    rotation = -90\n                    break\n            }\n            this.spTip.rotation = rotation\n        }\n    },\n})\n"]}